<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <title>EVSE Control</title>
  <!-- Bootstrap core CSS -->
  <link href="/required/required.css" rel="stylesheet">
  <script src="/required/required.js" type="text/javascript"></script>
  <script src="/auth/evse.js" type="text/javascript"></script>
  <style>
</style>
</head>

<body onload="start()">
 
<div style="z-index: 99;" id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <a href="/auth/evse.htm"><b>EVSE&nbsp;Control</b></a>
  <a href="/auth/users.htm">Users</a>
  <a href="/auth/settings.htm">Settings</a>
  <a href="/auth/log.htm">Log</a>
</div>
<!-- Modal -->
<div class="modal fade" id="currentModal" tabindex="-1" role="dialog" aria-labelledby="currentModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
	     <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
         <h4 class="modal-title" id="editor-title">Current&nbsp;<span id="slider_current"></span>&nbsp;A</h4>
      </div>
      <div class="modal-body">
		<div class="""slidecontainer">
			<input type="range" min="6" max="25" value="20" class="slider" id="myRange" oninput="handleSlider(this.value)">
		</div> <!--
		<script>
			slider = document.getElementById("myRange");
			var output = document.getElementById("slider_current");
			output.innerHTML = slider.value;
	
			slider.oninput = function() {
			output.innerHTML = this.value;
			}
		</script> -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Abort</button>
        <button type="submit" class="btn btn-primary" onclick="setEVSECurrent()">Save</button>
      </div>
    </div>
  </div>
</div>
  <div class="container">
    <div class="header clearfix">
	<nav>
       <ul class="nav pull-right" style="padding:10px">
			<span class="text-muted" style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;</span>
       </ul>
    </nav>
	<h3 class="text-muted">EVSE Control</h3>
	</div>
      <div id="loading-img" class="text-center">
        <img src="../load.gif">
        <h5>Please wait while fetching data... <span id="loadpages"></span></h5>
      </div>
	<div class="hidden" id="carStatusReady" align=center>
		<img id="statusImg" src="/status_ready.svg">
	</div>
	<div class="hidden" id="carStatusDetected" align=center>
		<img id="statusImg" src="/status_detected.svg">
	</div>
	<div class="hidden" id="carStatusCharging" align=center>
		<img id="statusImg" src="/status_charging.svg">
	</div>
	<div>
	<br>
	<p id="evse_vehicle_state" class="text-center"></p>
	<br>
	</div>
        <div class="panel panel-default table-responsive">
          <table class="table table-hover" >
            <tbody style="transition:0.5s">
              <tr data-toggle="modal" data-target="#currentModal" style="transition:0.3s">
                <th><span class="glyphicon glyphicon-cog"></span>&nbsp;&nbsp;Max. Current >></th>
                <td id="evse_current_limit" class="text-right"></td>
              </tr>
              <tr  style="transition:0.3s">
                <th><span class="glyphicon glyphicon-signal"></span>&nbsp;&nbsp;Power</th>
                <td id="evse_current" class="text-right"></td>
			  </tr>
              <tr  style="transition:0.3s">
                <th><span class="glyphicon glyphicon-time"></span>&nbsp;&nbsp;Duration</th>
                <td id="evse_charging_time" class="text-right"></td>
              </tr>
              <tr  style="transition:0.3s">
                <th><span class="glyphicon glyphicon-download-alt"></span>&nbsp;&nbsp;Energy</th>
                <td id="evse_charged_kwh" class="text-right"></td>
              </tr>
            </tbody>
          </table>
        </div>
		<div class="hidden" id="evseNotActive" align=center>
			<button id="buttonActivate" type="button" class="btn btn-success" onclick="activateEVSE()">Activate EVSE</button>
		</div>
		<div class="hidden" id="evseActive" align=center>
			<button id="buttonDeactivate" type="button" class="btn btn-danger" onclick="deactivateEVSE()">Deactivate EVSE</button>
		</div>
      <br>
      <br>
      <hr>
      <div></div>
      <br> 
    <hr>
    <footer class="footer">
      <h6 class="text-muted"><a href="https://github.com/CurtRod/SimpleEVSE-WiFi" target="_blank">SimpleEVSE WiFi</a></h6>
    </footer>
  </div>
</body>
</html>